<div class="row full-height">

  <div class="large-1 columns full-height nav-container">
    <ul class="side-nav" >
      <li><a ui-sref="skel.home"><i class="fi-home"></i></a></li>
      <li ng-show="isLogged"><a ui-sref="skel.upload"><i class="fi-plus"></i></a></li>
      <li><a ui-sref="skel.search"><i class="fi-magnifying-glass"></i></a></li>
      <!--<li><a href="#"><i class="fi-video"></i></a></li>-->
    </ul>
  </div>
  <div class="large-8 columns full-height main-container">
    <div class="small-12 main-logo text-center">
      <img id="firstStop" src="../assets/images/logo-mewpipe.svg" alt="Mewpipe">
    </div>
      <div ui-view></div>
  </div>

  <div class="large-2 columns full-height top-stats">
    <h2 >Most viewed</h2>
    <div class="row most-viewed">
      <div class="large-12 small-12  video-item" ng-repeat="mostViewed in mostVieweds | limitTo:3">
        <div class="th">
          <a ui-sref="skel.video({videoId: mostViewed.id})">
            <img class="most-viewed-thumb" ng-src="{{apiUrl}}{{mostViewed.thumb}}" alt="{{mostViewed.title}}">
          </a>
          <div class="caption">

            <div class="progress large-12 small-12">
              <span class="meter" ng-style="{'width': mostViewed.progress + '%'}"></span>
            </div>
            <span class="number">{{mostViewed.view_count}}</span>
            <p class="pointer" ui-sref="skel.pipe({userId: mostViewed.user.id})">{{mostViewed.user.username | capitalize}}</p>
            <h3>{{mostViewed.title | capitalize}}</h3>
          </div>
        </div>
      </div>
    </div>
    <div class="row top-rated">
      <h2>Top Shared</h2>
      <div class="large-12 small-12  video-item" ng-repeat="topRated in topRateds | limitTo:3">
        <div class="th">
          <a ui-sref="skel.video({videoId: topRated.id})">
            <img class="" ng-src="{{apiUrl}}{{topRated.thumb}}" alt="{{topRated.title}}">
          </a>
          <div class="caption">
            <div class="progress large-12 small-12">
              <span class="meter" ng-style="{'width': topRated.progress + '%'}"></span>
            </div>
            <span class="number">{{topRated.page_views}}</span>
            <p class="pointer" ui-sref="skel.pipe({userId: topRated.user.id})">{{topRated.user.username | capitalize}}</p>
            <h3>{{topRated.title | capitalize}}</h3>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="large-2 columns full-height personal">
    <div class="">
      <div ng-show="isLogged" >
        <div ui-view="connected"></div>
      </div>

      <div ng-show="!isLogged">
        <div ng-if="sidebarState == 'signup'"  ui-view="notConnected"></div>
        <div ng-if="sidebarState == 'login'" ui-view="notConnectedLogin"></div>


        <div class="text-center" ng-switch on="sidebarState">
          <button class="button" ng-switch-when="signup" ng-click="goToSignup()" class="btn-attract">Login</button>
          <button class="button" ng-switch-when="login" ng-click="goToLogin()" class="btn-attract">Signup</button>
        </div>

        <div ng-if="sidebarState == 'login'">
          <FORM action="http://api.mewpipe.com:5000/login" method="post">
            <INPUT type="hidden" name="identity_url" value="https://yahoo.com/"><BR>
            <button type="submit" class="button info">Yahoo connect</button>
          </FORM>
          <FORM action="http://api.mewpipe.com:5000/login" method="post">
            <INPUT type="hidden" name="identity_url" value="https://openid.aol.com/"><BR>
            <button type="submit" class="button secondary">AOL connect</button>
          </FORM>
          <FORM action="http://api.mewpipe.com:5000/login" method="post">
            <INPUT type="hidden" name="identity_url" value="https://identity.genomespace.org/identityServer/xrd.jsp"><BR>
            <button type="submit" class="button success">GenomeSpace connect</button>
          </FORM>
          <FORM action="http://api.mewpipe.com:5000/login" method="post">
            <INPUT type="hidden" name="identity_url" value="https://pip.verisignlabs.com/"><BR>
            <button type="submit" class="button success">Verisgin connect</button>
          </FORM>

        </div>

      </div>

      </div>


    </div>
  </div>


</div>

<ol class="joyride-list" data-joyride>
  <li data-id="firstStop" data-text="Next" data-options="tip_location: top; prev_button: false">
    <p>Hello and welcome to the Joyride <br>documentation page.</p>
  </li>
  <li data-id="numero1" data-class="custom so-awesome" data-text="Next" data-prev-text="Prev">
    <h4>Stop #1</h4>
    <p>You can control all the details for you tour stop. Any valid HTML will work inside of Joyride.</p>
  </li>
  <li data-id="numero2" data-button="Next" data-prev-text="Prev" data-options="tip_location:top;tip_animation:fade">
    <h4>Stop #2</h4>
    <p>Get the details right by styling Joyride with a custom stylesheet!</p>
  </li>
  <li data-button="End" data-prev-text="Prev">
    <h4>Stop #3</h4>
    <p>It works as a modal too!</p>
  </li>
</ol>
